# Tmux session manager - creates or attaches to a session named after current directory or custom name
# Usage: tmuxn [session_name]

local session_name
if [[ -n "$1" ]]; then
    session_name="$1"
else
    session_name="$(basename "$(pwd)")"
fi

echo "$session_name"

# Check if session already exists
if tmux has-session -t "$session_name" 2>/dev/null; then
    echo "Warning: A tmux session named '$session_name' already exists."
    echo -n "Would you like to attach to the existing session? (y/n): "
    read response
    if [[ "$response" =~ ^[Yy]$ ]]; then
        tmux attach-session -t "$session_name"
    else
        echo "Cancelled. No action taken."
    fi
else
    tmux new-session -s "$session_name"
fi
